var _Mathpow=Math.pow,_Mathmax=Math.max,_Mathmin=Math.min,_Mathabs=Math.abs,_Mathfloor=Math.floor,_Mathceil=Math.ceil,_Mathround=Math.round,_Mathsqrt=Math.sqrt,_MathPI=Math.PI;(function(t){function s(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return t[o].call(l.exports,l,l.exports,s),l.l=!0,l.exports}var n={};return s.m=t,s.c=n,s.i=function(o){return o},s.d=function(o,l,d){s.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:d})},s.n=function(o){var l=o&&o.__esModule?function(){return o['default']}:function(){return o};return s.d(l,'a',l),l},s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},s.p='',s(s.s=60)})([,function(t){t.exports={BOOKMARKS_BROADCAST:'bookmarksBroadcast',CONFIRM_SHOW:'confirmShow',MODAL_HIDE:'modalHide',MODAL_SHOW:'modalShow',OPTIMIZED_RESIZE:'optimizedResize',OPTIMIZED_SCROLL:'optimizedScroll',RESERVATIONS_BROADCAST:'reservationsBroadcast',SCHEDULE_LOADED:'scheduleLoaded',SCHEDULE_UPDATED:'scheduleUpdated',TOAST_MESSAGE:'toastMessage'}},function(t,s,n){function l(B){var V,Y={},z=B.split(E);if(C.test(z[0])?(Y.date=null,V=z[0]):(Y.date=z[0],V=z[1]),V){var q=U.exec(V);q?(Y.time=V.replace(q[1],''),Y.timezone=q[1]):Y.time=V}return Y}function d(B,Y){var q,z=O[Y],V=L[Y];if(q=D.exec(B)||V.exec(B),q){var X=q[1];return{year:parseInt(X,10),restDateString:B.slice(X.length)}}if(q=T.exec(B)||z.exec(B),q){var K=q[1];return{year:100*parseInt(K,10),restDateString:B.slice(K.length)}}return{year:null}}function c(B,Y){if(null===Y)return null;var z,V,q,X;if(0===B.length)return V=new Date(0),V.setUTCFullYear(Y),V;if(z=R.exec(B),z)return V=new Date(0),q=parseInt(z[1],10)-1,V.setUTCFullYear(Y,q),V;if(z=P.exec(B),z){V=new Date(0);var K=parseInt(z[1],10);return V.setUTCFullYear(Y,0,K),V}if(z=A.exec(B),z){V=new Date(0),q=parseInt(z[1],10)-1;var Z=parseInt(z[2],10);return V.setUTCFullYear(Y,q,Z),V}if(z=M.exec(B),z)return X=parseInt(z[1],10)-1,p(Y,X);if(z=I.exec(B),z){X=parseInt(z[1],10)-1;var J=parseInt(z[2],10)-1;return p(Y,X,J)}return null}function u(B){var Y,z,V;if(Y=N.exec(B),Y)return z=parseFloat(Y[1].replace(',','.')),z%24*f;if(Y=W.exec(B),Y)return z=parseInt(Y[1],10),V=parseFloat(Y[2].replace(',','.')),z%24*f+V*v;if(Y=H.exec(B),Y){z=parseInt(Y[1],10),V=parseInt(Y[2],10);var q=parseFloat(Y[3].replace(',','.'));return z%24*f+V*v+1e3*q}return null}function h(B){var Y,z;return(Y=G.exec(B),Y)?0:(Y=F.exec(B),Y)?(z=60*parseInt(Y[2],10),'+'===Y[1]?-z:z):(Y=_.exec(B),Y?(z=60*parseInt(Y[2],10)+parseInt(Y[3],10),'+'===Y[1]?-z:z):0)}function p(B,Y,z){Y=Y||0,z=z||0;var V=new Date(0);V.setUTCFullYear(B,0,4);var q=V.getUTCDay()||7,X=7*Y+z+1-q;return V.setUTCDate(V.getUTCDate()+X),V}var S=n(46),f=3.6e6,v=6e4,E=/[T ]/,C=/:/,T=/^(\d{2})$/,O=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],D=/^(\d{4})/,L=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],R=/^-(\d{2})$/,P=/^-?(\d{3})$/,A=/^-?(\d{2})-?(\d{2})$/,M=/^-?W(\d{2})$/,I=/^-?W(\d{2})-?(\d{1})$/,N=/^(\d{2}([.,]\d*)?)$/,W=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,H=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,U=/([Z+-].*)$/,G=/^(Z)$/,F=/^([+-])(\d{2})$/,_=/^([+-])(\d{2}):?(\d{2})$/;t.exports=function(B,Y){if(S(B))return new Date(B.getTime());if('string'!=typeof B)return new Date(B);var V=(Y||{}).additionalDigits;V=null==V?2:+V;var q=l(B),X=d(q.date,V),K=X.year,Z=X.restDateString,J=c(Z,K);if(J){var ee,$=J.getTime(),Q=0;return q.time&&(Q=u(q.time)),q.timezone?ee=h(q.timezone):(ee=new Date($+Q).getTimezoneOffset(),ee=new Date($+Q+ee*v).getTimezoneOffset()),new Date($+Q+ee*v)}return new Date(B)}},,,,,,,,,,,,,,,,,,,,,,,function(t,s,n){'use strict';var o=n(57);const l=n(39),d=n(40),c=n(42),u=n(44),h=n(45),p=n(43),S={COUNTDOWN_PARENT:'.js-countdown',SLASHES_PARENT:'.js-countdown-slashes',DAYS_PARENT:'.js-countdown-days',HOURS_PARENT:'.js-countdown-hours',MINUTES_PARENT:'.js-countdown-minutes',SECONDS_PARENT:'.js-countdown-seconds',NAV_DAYS:'.js-countdown-nav-days',NAV_HOURS:'.js-countdown-nav-hours',NAV_MINUTES:'.js-countdown-nav-minutes',NAV_SECONDS:'.js-countdown-nav-seconds',DAYS_LABEL:'.js-countdown-days-label',HOURS_LABEL:'.js-countdown-hours-label',MINUTES_LABEL:'.js-countdown-minutes-label',SECONDS_LABEL:'.js-countdown-seconds-label',FALLBACK_TIME:'.js-countdown-fallback-time',PAUSE_BUTTON:'.js-countdown-pause',EGG:'.js-countdown-e',INJECT_E:'.js-countdown-inject-e',PI_LABEL:'.js-countdown-pi-label'},f={ACTIVE:'-active',HIDDEN:'-hidden',FORCE:'countdown__force',SABER:'-saber',FORCE_LABEL:'countdown__force-label'},v=`<button class="countdown__nav__button countdown__force js-countdown-e">
      5.4
    </button>`,m={DAYS:'VI \u2013 01:43:42',HOURS:'DS-1',MINUTES:'K-18: -1421.32, -12880.35',SECONDS:'R-16: 9665.78, -10099.11'},E=Date.UTC(2017,1,22,17,0,0,0),C=Date.UTC(2017,4,17,17,0,0,0),T=l(C,E),O=d(Date.UTC(2017,4,4,7,0,0,0),Date.now()),D=1<window.devicePixelRatio?window.devicePixelRatio:1,L=811,R=60,P={DESKTOP:{DAYS:{COLUMNS:18,ROWS:6},HOURS:{COLUMNS:12,ROWS:4},MINUTES:{COLUMNS:30,ROWS:10},SECONDS:{COLUMNS:30,ROWS:10}},MOBILE:{DAYS:{COLUMNS:12,ROWS:9},HOURS:{COLUMNS:8,ROWS:6},MINUTES:{COLUMNS:12,ROWS:10},SECONDS:{COLUMNS:12,ROWS:10}}},A={DEFAULTS:{DAYS:2614525,HOURS:4253624,MINUTES:16568899,SECONDS:4253624},TICKS:{DAYS:5467646,HOURS:16568899,MINUTES:2614525,SECONDS:5467646},WAVES:{DAYS:8912895,HOURS:9215743,MINUTES:9215743,SECONDS:1638399},HOVERS:{DAYS:5467646,HOURS:9215743,MINUTES:5467646,SECONDS:5467646},FORCE:{HYPERSPACE_OFF:'rgba(205, 234, 248, 0)',HYPERSPACE_ON:'rgba(205, 234, 248, 1)',DAYS:{PULSE:16711680},HOURS:{BG:0,TOP:10395294,PULSE:0,HOVER:16711680},MINUTES:{BG:4342338,TOP:8444159,BOTTOM:2712319,PULSE:0},SECONDS:{BG:4342338,TOP:16770431,BOTTOM:16727296,PULSE:0}}},M={RED:'static/images/countdown/saber_red.png',GREEN:'static/images/countdown/saber_green.png'};let I=[];for(let U=15;105>=U;U+=15)I.push(U);const N=I;let W=document.querySelector(S.INJECT_E);0>=O&&-24<=O&&W&&(W.innerHTML=v);s.a=class{constructor(){this.countdownParent=document.querySelector(S.COUNTDOWN_PARENT),this.slashesParent=document.querySelector(S.SLASHES_PARENT);this.countdownParent&&this.slashesParent&&(this.navDays=document.querySelector(S.NAV_DAYS),this.navHours=document.querySelector(S.NAV_HOURS),this.navMinutes=document.querySelector(S.NAV_MINUTES),this.navSeconds=document.querySelector(S.NAV_SECONDS),this.pauseButton=document.querySelector(S.PAUSE_BUTTON),this.eButton=document.querySelector(S.EGG),this.daysLabel=document.querySelector(S.DAYS_LABEL),this.hoursLabel=document.querySelector(S.HOURS_LABEL),this.minutesLabel=document.querySelector(S.MINUTES_LABEL),this.secondsLabel=document.querySelector(S.SECONDS_LABEL),this.isMobile=window.innerWidth<=L,this.isForce=!1,this.daysSlashes=null,this.hoursSlashes=null,this.minutesSlashes=null,this.secondsSlashes=null,this.activeGrid=null,this.interactiveGrid=null,this.forceCanvas=null,this.saberImg=null,this.createGrids(),this.endTime=C,this.daysCounter=null,this.hoursCounter=null,this.minutesCounter=null,this.secondsCounter=null,this.millisecondsCounter=null,this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this),this.handleDeviceMotion=this.handleDeviceMotion.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerLeave=this.handlePointerLeave.bind(this),this.refreshFutureSlashes=this.refreshFutureSlashes.bind(this),this.createWaveOnGrid=this.createWaveOnGrid.bind(this),this.activateDays=this.activateDays.bind(this),this.activateHours=this.activateHours.bind(this),this.activateMinutes=this.activateMinutes.bind(this),this.activateSeconds=this.activateSeconds.bind(this),this.pauseCountdown=this.pauseCountdown.bind(this),this.handleE=this.handleE.bind(this),this.restart=this.restart.bind(this),this.trackSaber=this.trackSaber.bind(this),this.pointerIsMoving=!1,this.pointerTimeout=null,this.saberPointerTimeout=null,this.touchTimeout=null,this.changingState=!1,this.timeIsRefreshing=!1,this.pointerIsDown=!1,this.pointerIsTouch=!1,this.pointerX=null,this.pointerY=null,this.shouldRender=!1,this.isPaused=!1)}createGrids(){const U=document.querySelector(S.DAYS_PARENT),G=document.querySelector(S.HOURS_PARENT),F=document.querySelector(S.MINUTES_PARENT),_=document.querySelector(S.SECONDS_PARENT);U.classList.add(f.HIDDEN),G.classList.add(f.HIDDEN),F.classList.add(f.HIDDEN),_.classList.remove(f.HIDDEN);const B=window.innerWidth>L?P.DESKTOP.DAYS.COLUMNS:P.MOBILE.DAYS.COLUMNS,Y=window.innerWidth>L?P.DESKTOP.DAYS.ROWS:P.MOBILE.DAYS.ROWS;this.daysSlashes=new o.a(U,B,Y,this.countdownParent,{startAngle:45,defaultColor:A.DEFAULTS.DAYS,alternateAngle:!0,alpha:0,untickedGraphic:M.RED});const z=window.innerWidth>L?P.DESKTOP.HOURS.COLUMNS:P.MOBILE.HOURS.COLUMNS,V=window.innerWidth>L?P.DESKTOP.HOURS.ROWS:P.MOBILE.HOURS.ROWS;this.hoursSlashes=new o.a(G,z,V,this.countdownParent,{startAngle:15,iterateAngle:!0,iterationDirection:1,defaultColor:A.DEFAULTS.HOURS,alpha:0});const q=window.innerWidth>L?P.DESKTOP.MINUTES.COLUMNS:P.MOBILE.MINUTES.COLUMNS,X=window.innerWidth>L?P.DESKTOP.MINUTES.ROWS:P.MOBILE.MINUTES.ROWS;this.minutesSlashes=new o.a(F,q,X,this.countdownParent,{iterateAngle:!0,iterationDirection:1,alternateAngle:!0,iterateByRow:!0,defaultColor:A.DEFAULTS.MINUTES,alpha:0});const K=window.innerWidth>L?P.DESKTOP.SECONDS.COLUMNS:P.MOBILE.SECONDS.COLUMNS,Z=window.innerWidth>L?P.DESKTOP.SECONDS.ROWS:P.MOBILE.SECONDS.ROWS;this.secondsSlashes=new o.a(_,K,Z,this.countdownParent,{defaultColor:A.DEFAULTS.SECONDS}),this.activeGrid=this.secondsSlashes,this.interactiveGrid=this.secondsSlashes,this.activeNav=this.navSeconds,this.secondsSlashes.turnOn(),this.daysSlashes.init(),this.hoursSlashes.init(),this.minutesSlashes.init(),this.secondsSlashes.init()}init(){const U=document.querySelector(S.FALLBACK_TIME);U.innerHTML=`${this.getTime().daysLeft} `,this.checkAndSetTime(),this.bindEvents(),this.shouldRender=!0,this.render(),this.countdownParent.classList.add(f.ACTIVE),this.activeNav.classList.add(f.ACTIVE)}tearDown(){this.unbindEvents(),this.tearDownGrids(),this.countdownParent=null,this.slashesParent=null,this.navDays=null,this.navHours=null,this.navMinutes=null,this.navSeconds=null,this.activeGrid=null,this.interactiveGrid=null,this.activeNav=null,this.forceCanvas&&(this.slashesParent.removeChild(this.forceCanvas),this.forceCanvas=null),this.saberImg&&(this.detachSaber(),this.saberImg=null)}bindEvents(){window.addEventListener('focus',this.refreshFutureSlashes),window.addEventListener('optimizedResize',this.handleWindowResize),window.addEventListener('devicemotion',this.handleDeviceMotion),this.slashesParent.addEventListener('mousemove',this.handlePointerMove),this.slashesParent.addEventListener('mouseleave',this.handlePointerLeave),this.slashesParent.addEventListener('touchmove',this.handlePointerMove),this.slashesParent.addEventListener('mousedown',this.handlePointerDown),this.slashesParent.addEventListener('mouseup',this.handlePointerUp),this.slashesParent.addEventListener('touchstart',this.handlePointerDown),this.slashesParent.addEventListener('touchend',this.handlePointerUp),this.navDays.addEventListener('click',this.activateDays),this.navHours.addEventListener('click',this.activateHours),this.navMinutes.addEventListener('click',this.activateMinutes),this.navSeconds.addEventListener('click',this.activateSeconds),this.pauseButton.addEventListener('click',this.pauseCountdown),this.eButton&&this.eButton.addEventListener('click',this.handleE)}unbindEvents(){window.removeEventListener('focus',this.refreshFutureSlashes),window.removeEventListener('optimizedResize',this.handleWindowResize),window.removeEventListener('devicemotion',this.handleDeviceMotion),this.slashesParent.removeEventListener('mousemove',this.handlePointerMove),this.slashesParent.removeEventListener('mouseleave',this.handlePointerLeave),this.slashesParent.removeEventListener('touchmove',this.handlePointerMove),this.slashesParent.removeEventListener('mousedown',this.handlePointerDown),this.slashesParent.removeEventListener('mouseup',this.handlePointerUp),this.slashesParent.removeEventListener('mousemove',this.handlePointerMove),this.slashesParent.removeEventListener('touchstart',this.handlePointerDown),this.slashesParent.removeEventListener('touchend',this.handlePointerUp),this.navDays.removeEventListener('click',this.activateDays),this.navHours.removeEventListener('click',this.activateHours),this.navMinutes.removeEventListener('click',this.activateMinutes),this.navSeconds.removeEventListener('click',this.activateSeconds),this.pauseButton.removeEventListener('click',this.pauseCountdown),this.eButton&&this.eButton.removeEventListener('click',this.handleE)}tearDownGrids(){this.daysSlashes&&(this.daysSlashes.tearDown(),this.daysSlashes=null),this.hoursSlashes&&(this.hoursSlashes.tearDown(),this.hoursSlashes=null),this.minutesSlashes&&(this.minutesSlashes.tearDown(),this.minutesSlashes=null),this.secondsSlashes&&(this.secondsSlashes.tearDown(),this.secondsSlashes=null)}changeActiveGrid(U,G){if(!(this.changingState||this.isPaused)){this.changingState=!0,G.classList.add(f.ACTIVE),this.activeNav.classList.remove(f.ACTIVE),this.activeNav=G,U.parent.classList.add(f.ACTIVE),this.activeGrid.parent.classList.remove(f.ACTIVE),U.parent.classList.remove(f.HIDDEN);let F={x:G.offsetLeft,y:0};const _=1.5*this.slashesParent.offsetWidth;this.activeGrid.createMotionWave(F.x,F.y,_,5,0.75),this.activeGrid.createWipeWave(F.x,F.y,_,1,0.5,!1,()=>{this.activeGrid.parent.classList.add(f.HIDDEN)}),this.isForce?this.enterHyperspace(U,this.activeGrid):(U.createMotionWave(F.x,F.y,_,5,1),U.createWipeWave(F.x,F.y,_,1,0.75,!0,()=>{this.activeGrid.render(),this.activeGrid.turnOff(),this.activeGrid=U,this.changingState=!1})),this.interactiveGrid.stopInteraction(),this.interactiveGrid=U,U.turnOn()}}activateDays(U){U.preventDefault(),this.activeGrid!==this.daysSlashes&&this.changeActiveGrid(this.daysSlashes,this.navDays)}activateHours(U){U.preventDefault(),this.activeGrid!==this.hoursSlashes&&this.changeActiveGrid(this.hoursSlashes,this.navHours)}activateMinutes(U){U.preventDefault(),this.activeGrid!==this.minutesSlashes&&this.changeActiveGrid(this.minutesSlashes,this.navMinutes)}activateSeconds(U){U.preventDefault(),this.activeGrid!==this.secondsSlashes&&this.changeActiveGrid(this.secondsSlashes,this.navSeconds)}createWaveOnGrid(U){const G=this.getWaveColor();let F=this.pointerIsTouch?U.layerX+this.interactiveGrid.gridOffsetLeft:U.offsetX/D;!U.layerX&&U.changedTouches[0].screenX&&(F=U.changedTouches[0].screenX+this.interactiveGrid.gridOffsetLeft-this.interactiveGrid.parent.getBoundingClientRect().left);let _=this.pointerIsTouch?U.layerY+this.interactiveGrid.gridOffsetTop:U.offsetY/D;!U.layerY&&U.changedTouches[0].screenY&&(_=U.changedTouches[0].screenY+this.interactiveGrid.gridOffsetTop-this.interactiveGrid.parent.getBoundingClientRect().top);const B=this.isMobile?2:4,Y=2*this.slashesParent.offsetWidth;this.interactiveGrid.createMotionWave(F,_,Y,5,B),this.interactiveGrid.createColorWave(F,_,Y,G,2,B)}changeSlashAngles(U){for(let G=0;G<U.slashes.length;G++){const F=U.slashes[G];U.setRotation(F,_MathPI*(G+1),!0)}}handlePointerDown(U){this.isPaused||(U.touches?this.touchTimeout=setTimeout(()=>{this.pointerIsDown=!0,this.interactiveGrid.startInteraction()},R):(this.interactiveGrid.startInteraction(),this.pointerIsDown=!0,this.createWaveOnGrid(U),this.interactiveGrid===this.minutesSlashes&&this.changeSlashAngles(this.minutesSlashes)),this.pointerX=this.pointerIsTouch?U.layerX+this.interactiveGrid.gridOffsetLeft:U.offsetX/D,!U.layerX&&U.changedTouches[0].screenX&&(this.pointerX=U.changedTouches[0].screenX+this.interactiveGrid.gridOffsetLeft-this.interactiveGrid.parent.getBoundingClientRect().left),this.pointerY=this.pointerIsTouch?U.layerY+this.interactiveGrid.gridOffsetTop:U.offsetY/D,!U.layerY&&U.changedTouches[0].screenY&&(this.pointerY=U.changedTouches[0].screenY+this.interactiveGrid.gridOffsetTop-this.interactiveGrid.parent.getBoundingClientRect().top))}handlePointerUp(U){U.preventDefault();this.isPaused||(this.pointerIsDown=!1,U.touches&&!this.pointerIsMoving&&(this.createWaveOnGrid(U),this.interactiveGrid===this.minutesSlashes&&this.changeSlashAngles(this.minutesSlashes)),this.touchTimeout&&clearTimeout(this.touchTimeout),this.interactiveGrid.stopInteraction())}handlePointerMove(U){this.isPaused||(this.pointerIsMoving=!0,this.pointerTimeout&&clearTimeout(this.pointerTimeout),this.pointerX=this.pointerIsTouch?U.layerX+this.interactiveGrid.gridOffsetLeft:U.offsetX/D,!U.layerX&&U.changedTouches[0].screenX&&(this.pointerX=U.changedTouches[U.changedTouches.length-1].clientX+this.interactiveGrid.gridOffsetLeft-this.interactiveGrid.parent.getBoundingClientRect().left),this.pointerY=this.pointerIsTouch?U.layerY+this.interactiveGrid.gridOffsetTop:U.offsetY/D,!U.layerY&&U.changedTouches[0].screenY&&(this.pointerY=U.changedTouches[U.changedTouches.length-1].clientY+this.interactiveGrid.gridOffsetTop-this.interactiveGrid.parent.getBoundingClientRect().top),this.pointerTimeout=setTimeout(()=>{this.pointerIsMoving=!1},R),U.changedTouches?(this.pointerIsTouch=!0,this.touchTimeout&&clearTimeout(this.touchTimeout)):this.pointerIsTouch=!1)}handlePointerLeave(){this.pointerIsMoving=!1,this.pointerIsDown=!1}handleDeviceMotion(U){if(!(5>U.acceleration.x||5>U.acceleration.y)){const G=this.getWaveColor(),F=this.slashesParent.offsetWidth/2,_=this.slashesParent.offsetHeight/2,B=100*(U.acceleration.x+U.acceleration.y+U.acceleration.z);this.interactiveGrid.createMotionWave(F,_,B,5,3),this.interactiveGrid.createColorWave(F,_,B,G,2,3)}}handleWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.resize,R)}resize(){window.innerWidth<=L===this.isMobile?(this.daysSlashes.resize(),this.hoursSlashes.resize(),this.minutesSlashes.resize(),this.secondsSlashes.resize()):this.resetCountdown(),this.isForce&&(this.positionForceCanvas(),this.saberImg&&TweenLite.set(this.saberImg,{height:this.daysSlashes.slashSize+'px'})),this.isMobile=window.innerWidth<=L}resetCountdown(){this.shouldRender=!1,this.tearDownGrids(),this.createGrids(),this.activeNav.classList.remove(f.ACTIVE),this.activeNav.classList.add(f.ACTIVE),this.daysCounter=null,this.hoursCounter=null,this.minutesCounter=null,this.secondsCounter=null,this.millisecondsCounter=null,requestAnimationFrame(this.restart),this.isForce&&(this.isForce=!1,this.toggleForceMode())}restart(){this.shouldRender=!0,this.secondsSlashes.turnOn(),this.render()}pauseCountdown(){this.isPaused=!this.isPaused,this.pauseButton.classList.toggle(f.ACTIVE,this.isPaused),this.isPaused||(this.refreshPastSlashes(),this.refreshFutureSlashes(),requestAnimationFrame(this.render))}getWaveColor(){if(this.interactiveGrid===this.daysSlashes)return this.isForce?A.FORCE.DAYS.PULSE:A.WAVES.DAYS;return this.interactiveGrid===this.hoursSlashes?this.isForce?A.FORCE.HOURS.PULSE:A.WAVES.HOURS:this.interactiveGrid===this.minutesSlashes?this.isForce?A.FORCE.MINUTES.PULSE:A.WAVES.MINUTES:this.interactiveGrid===this.secondsSlashes?this.isForce?A.FORCE.SECONDS.PULSE:A.WAVES.SECONDS:void 0}toggleForceMode(){this.isForce=!this.isForce,this.isForce?(this.positionForceCanvas(),this.addForceLabels(),this.attachSaber()):(this.removeForceLabels(),this.detachSaber()),this.changingState=!0,document.body.classList.toggle(f.FORCE,this.isForce),this.isForce||this.countdownParent.classList.remove(f.SABER);const U={x:this.slashesParent.offsetWidth/2,y:this.slashesParent.offsetHeight/2},G=1.5*this.slashesParent.offsetWidth;this.activeGrid.createMotionWave(U.x,U.y,G,5,0.75),this.activeGrid.createWipeWave(U.x,U.y,G,1,0.5,!1,()=>{this.isForce?(this.daysSlashes.enableGraphics(),this.handleWindowResize(),this.enterHyperspace(this.activeGrid)):(this.refreshPastSlashes(),this.refreshFutureSlashes(),this.daysSlashes.disableGraphics(),this.activeGrid.createMotionWave(U.x,U.y,G,5,1),this.activeGrid.createWipeWave(U.x,U.y,G,1,0.75,!0,()=>{this.changingState=!1}))})}positionForceCanvas(){this.forceCanvas||(this.forceCanvas=document.createElement('canvas'),this.forceContext=this.forceCanvas.getContext('2d'),this.slashesParent.appendChild(this.forceCanvas));const U=window.innerWidth*D;this.forceCanvas.width=U;const G=(this.countdownParent.offsetHeight-this.slashesParent.offsetTop)*D;this.forceCanvas.height=G,TweenLite.set(this.forceCanvas,{width:U+'px',height:G+'px',position:'absolute',backgroundColor:A.FORCE.HYPERSPACE_OFF,top:0,left:-this.slashesParent.getBoundingClientRect().left,transformOrigin:'0 0',scale:1/D}),this.forceContext.width=this.forceCanvas.width,this.forceContext.height=this.forceCanvas.height}addForceLabels(){const U=document.createElement('span');U.classList.add(f.FORCE_LABEL),U.innerHTML=m.DAYS,this.navDays.appendChild(U);const G=document.createElement('span');G.classList.add(f.FORCE_LABEL),G.innerHTML=m.HOURS,this.navHours.appendChild(G);const F=document.createElement('span');F.classList.add(f.FORCE_LABEL),F.innerHTML=m.MINUTES,this.navMinutes.appendChild(F);const _=document.createElement('span');_.classList.add(f.FORCE_LABEL),_.innerHTML=m.SECONDS,this.navSeconds.appendChild(_)}removeForceLabels(){const U=this.navDays.querySelector('.'+f.FORCE_LABEL);this.navDays.removeChild(U);const G=this.navHours.querySelector('.'+f.FORCE_LABEL);this.navHours.removeChild(G);const F=this.navMinutes.querySelector('.'+f.FORCE_LABEL);this.navMinutes.removeChild(F);const _=this.navSeconds.querySelector('.'+f.FORCE_LABEL);this.navSeconds.removeChild(_)}attachSaber(){this.saberImg=document.createElement('img'),TweenLite.set(this.saberImg,{position:'absolute',display:'block',opacity:0,height:this.daysSlashes.slashSize+'px',top:0,left:0,pointerEvents:'none'}),this.saberImg.src=M.GREEN,this.daysSlashes.parent.appendChild(this.saberImg),this.daysSlashes.parent.addEventListener('mousemove',this.trackSaber),this.daysSlashes.parent.addEventListener('touchmove',this.trackSaber)}detachSaber(){this.saberImg&&this.daysSlashes.parent.removeChild(this.saberImg),this.daysSlashes.parent.removeEventListener('mousemove',this.trackSaber),this.daysSlashes.parent.removeEventListener('touchmove',this.trackSaber)}trackSaber(){this.saberPointerTimeout&&clearTimeout(this.saberPointerTimeout);const G=this.pointerX-this.slashesParent.getBoundingClientRect().left-this.saberImg.offsetWidth/2,F=this.pointerY-this.slashesParent.offsetTop,_=1>=G||G>=this.daysSlashes.gridWidth||1>=F||F>=this.daysSlashes.gridHeight;_||(TweenLite.to(this.saberImg,0.25,{opacity:1}),this.countdownParent.classList.add(f.SABER)),TweenLite.set(this.saberImg,{x:G,y:F}),this.saberPointerTimeout=setTimeout(()=>{_&&(TweenLite.to(this.saberImg,0.25,{opacity:0}),this.countdownParent.classList.remove(f.SABER))},R)}getFloatComplexGaussianRandom(){let U,G,F=0;do U=2*Math.random()-1,G=2*Math.random()-1,F=U*U+G*G;while(1<=F);F=_Mathsqrt(-1*Math.log(F)/F);const _=U*F,B=G*F;return{x:_,y:B}}enterHyperspace(U,G){let F,_,B;U===this.hoursSlashes&&(F=A.FORCE.HOURS.BG,_=A.FORCE.HOURS.TOP,B=A.FORCE.HOURS.BOTTOM),U===this.minutesSlashes?(F=A.FORCE.MINUTES.BG,_=A.FORCE.MINUTES.TOP,B=A.FORCE.MINUTES.BOTTOM):U===this.secondsSlashes&&(F=A.FORCE.SECONDS.BG,_=A.FORCE.SECONDS.TOP,B=A.FORCE.SECONDS.BOTTOM),this.forceContext.clearRect(0,0,this.forceCanvas.width,this.forceCanvas.height),TweenLite.set(this.forceCanvas,{backgroundColor:A.FORCE.HYPERSPACE_OFF,zIndex:999999,opacity:1}),this.saberImg&&G===this.daysSlashes&&TweenLite.to(this.saberImg,0.25,{opacity:0}),this.forceContext.clearRect(0,0,this.forceCanvas.width,this.forceCanvas.height);const Y={x:this.forceCanvas.width/2,y:this.forceCanvas.height/2},z=2*this.forceCanvas.width/D,V=this.forceCanvas.width/4;let q=[];for(let Z=0;Z<z;Z++){const J=this.getFloatComplexGaussianRandom(),$=J.x*V+Y.x,Q=J.y*V+Y.y;let ee=J.x*(2*this.forceCanvas.width),te=J.y*(2*this.forceCanvas.height);$>Y.x&&0>ee&&(ee*=-1),Q>Y.y&&0>te&&(te*=-1),q.push({originX:$,originY:Q,x:$,y:Q,endX:ee,endY:te})}const X={radius:0};TweenLite.to(X,2,{radius:this.forceCanvas.width,onUpdate:()=>{for(let Z=0;Z<q.length;Z++){const J=q[Z],$=this.interactiveGrid.getPointDistanceFromCircleEdge(Y.x,Y.y,J.x,J.y,X.radius);this.forceContext.globalCompositeOperation='screen',this.forceContext.beginPath(),this.forceContext.moveTo(J.x,J.y),J.x+=1<$?J.endX/$:0,J.y+=1<$?J.endY/$:0;const Q=X.radius/100;this.forceContext.strokeStyle='#2962FF',this.forceContext.lineWidth=Q,this.forceContext.lineTo(J.x,J.y),this.forceContext.stroke(),this.forceContext.moveTo(J.x,J.y),this.forceContext.strokeStyle='#CDEBF8',this.forceContext.lineWidth=Q-0.5,this.forceContext.lineTo(J.x,J.y),this.forceContext.stroke(),this.forceContext.closePath()}},onComplete:()=>{if(this.forceContext.clearRect(0,0,this.forceCanvas.width,this.forceCanvas.height),U!==this.daysSlashes){for(let te=0;te<U.slashes.length;te++){const se=U.slashes[te];U.changeSlashColor(se,F,0.1)}const $=_Mathround(this.secondsSlashes.slashes.length/2),Q=this.secondsSlashes.slashes[$],ee={x:this.secondsSlashes.gridWidth/2,y:this.secondsSlashes.gridHeight/2};U.createColorCircle(ee.x+this.secondsSlashes.gridOffsetLeft,ee.y+this.secondsSlashes.gridOffsetTop,ee.y,_,0.2,B)}this.countdownParent.classList.toggle(f.SABER,U===this.daysSlashes);const Z={x:this.slashesParent.offsetWidth/2,y:this.slashesParent.offsetHeight/2},J=1.5*this.slashesParent.offsetWidth;U.createMotionWave(Z.x,Z.y,J,5,1),U.createWipeWave(Z.x,Z.y,J,1,0.5,!0,()=>{this.saberImg&&U===this.daysSlashes&&TweenLite.to(this.saberImg,0.25,{opacity:1}),this.changingState=!1,G&&(G.render(),G.turnOff(),this.activeGrid=U)})},ease:Expo.easeIn});const K={color:this.forceCanvas.style.backgroundColor};TweenLite.to(K,0.25,{colorProps:{color:A.FORCE.HYPERSPACE_ON},onUpdate:()=>{this.forceCanvas.style.backgroundColor=K.color},onComplete:()=>{TweenLite.to(this.forceCanvas,0.25,{opacity:0,zIndex:0})},delay:1.5,ease:Expo.easeIn})}handleE(){this.changingState||this.isPaused||0>=O&&-24<=O&&this.toggleForceMode()}refreshPastSlashes(){if(!this.isForce){const U=this.getTime(),G=_Mathceil(this.daysSlashes.slashes.length/T),F=(T-U.daysLeft)*G;for(let X=0;X<=F+G;X++){const K=this.daysSlashes.slashes[X];K&&!this.isForce&&this.daysSlashes.changeSlashColor(K,A.TICKS.DAYS,0.5,!1,!0)}const _=_Mathceil(this.hoursSlashes.slashes.length/24),B=U.currentHours*_;for(let X=0;X<=B+_;X++){const K=this.hoursSlashes.slashes[X];K&&this.hoursSlashes.changeSlashColor(K,A.TICKS.HOURS,0.5,!1,!0)}const Y=_Mathceil(this.minutesSlashes.slashes.length/60),z=U.currentMinutes*Y;for(let X=0;X<=z+Y;X++){const K=this.minutesSlashes.slashes[X];K&&this.minutesSlashes.changeSlashColor(K,A.TICKS.MINUTES,0.5,!1,!0)}const V=_Mathceil(this.secondsSlashes.slashes.length/60),q=U.currentSeconds*V;for(let X=0;X<=q+V;X++){const K=this.secondsSlashes.slashes[X];K&&this.secondsSlashes.changeSlashColor(K,A.TICKS.SECONDS,0.5,!1,!0)}}}refreshFutureSlashes(){if(!this.isForce){const U=this.getTime(),G=_Mathceil(this.daysSlashes.slashes.length/T),F=(T-U.daysLeft)*G;for(let $=F+G;$<this.daysSlashes.slashes.length;$++){const Q=this.daysSlashes.slashes[$];this.daysSlashes.rotate(Q,Q.originAngleInDegrees,0.5),this.isForce||this.daysSlashes.changeSlashColor(Q,A.DEFAULTS.DAYS,0.5,!1,!0)}const B=_Mathceil(this.hoursSlashes.slashes.length/24),Y=U.currentHours*B;for(let $=Y+B;$<this.hoursSlashes.slashes.length;$++){const Q=this.hoursSlashes.slashes[$];this.hoursSlashes.rotate(Q,Q.originAngleInDegrees,0.5),this.hoursSlashes.changeSlashColor(Q,A.DEFAULTS.HOURS,0.5,!1,!0)}const V=_Mathceil(this.minutesSlashes.slashes.length/60),q=U.currentMinutes*V;for(let $=q+V;$<this.minutesSlashes.slashes.length;$++){const Q=this.minutesSlashes.slashes[$];this.minutesSlashes.changeSlashColor(Q,A.DEFAULTS.MINUTES,0.5,!1,!0)}const K=_Mathceil(this.secondsSlashes.slashes.length/60),Z=U.currentSeconds*K;for(let $=Z+K;$<this.secondsSlashes.slashes.length;$++){const Q=this.secondsSlashes.slashes[$];this.secondsSlashes.rotate(Q,Q.originAngleInDegrees,0.5),this.secondsSlashes.changeSlashColor(Q,A.DEFAULTS.SECONDS,0.5,!1,!0)}}}handleDefaultPointerInteraction(U,G){const F=this.interactiveGrid.getPointDistance(U.x,U.y,this.pointerX,this.pointerY),_=F<U.size*G,B=F>U.size*(1.1*G),Y=F>U.size*(1.2*G);_?this.pointerIsMoving?this.pointerIsDown?(this.interactiveGrid.pushSlashAway(U,this.pointerX,this.pointerY,G),this.interactiveGrid.rotateSlashAway(U,this.pointerX,this.pointerY,G)):(this.interactiveGrid.moveSlashTowardOrigin(U),!this.pointerIsTouch&&this.interactiveGrid.rotateSlashAway(U,this.pointerX,this.pointerY,G)):(this.interactiveGrid.moveSlashTowardOrigin(U),this.interactiveGrid.rotateSlashTowardOrigin(U)):(Y||!this.pointerIsDown||!this.pointerIsMoving)&&(this.interactiveGrid.moveSlashTowardOrigin(U),this.interactiveGrid.rotateSlashTowardOrigin(U))}handleDaysPointerInteraction(U){const G=this.daysSlashes.getPointDistance(U.x,U.y,this.pointerX,this.pointerY),F=this.isMobile?2:0.5,_=G<U.size*F;_?this.daysSlashes.rotateSlashAway(U,this.pointerX,this.pointerY):this.daysSlashes.rotateSlashTowardOrigin(U),this.daysSlashes.moveSlashTowardOrigin(U)}handleHoursPointerInteraction(U){const G=this.hoursSlashes.getPointDistance(U.x,U.y,this.pointerX,this.pointerY),F=G<U.size;if(F&&!this.changingState&&this.pointerIsMoving){let _=A.HOVERS.HOURS;this.isForce&&(_=A.FORCE.HOURS.HOVER),this.hoursSlashes.changeSlashColor(U,_,0.25,!0)}this.hoursSlashes.moveSlashTowardOrigin(U),this.hoursSlashes.rotateSlashTowardOrigin(U)}handleMinutesPointerInteraction(U,G){const F=this.interactiveGrid.getPointDistance(U.x,U.y,this.pointerX,this.pointerY),_=F<U.size*G,B=F>U.size*(1.1*G),Y=F>U.size*(1.2*G);_?this.pointerIsMoving&&!this.pointerIsTouch||this.pointerIsMoving&&this.pointerIsTouch&&this.pointerIsDown?this.minutesSlashes.pushSlashAway(U,this.pointerX,this.pointerY,G):(this.minutesSlashes.moveSlashTowardOrigin(U),this.minutesSlashes.rotateSlashTowardOrigin(U)):(Y||!this.pointerIsDown||!this.pointerIsMoving)&&(this.interactiveGrid.moveSlashTowardOrigin(U),this.interactiveGrid.rotateSlashTowardOrigin(U))}positionSlashes(){let U=this.slashesParent.offsetWidth/10/this.interactiveGrid.slashSize;this.isMobile&&(U*=2);for(let G=0;G<this.interactiveGrid.slashes.length;G++){const F=this.interactiveGrid.slashes[G];this.pointerX&&this.pointerY?this.interactiveGrid===this.daysSlashes?this.handleDaysPointerInteraction(F):this.interactiveGrid===this.hoursSlashes?this.handleHoursPointerInteraction(F):this.interactiveGrid===this.minutesSlashes?this.handleMinutesPointerInteraction(F,U):this.handleDefaultPointerInteraction(F,U):(this.interactiveGrid.rotateSlashTowardOrigin(F),this.interactiveGrid.moveSlashTowardOrigin(F))}}setLabel(U,G){U.innerHTML=G}getTime(){const U=Date.now();return{now:U,daysLeft:l(this.endTime,U),currentHours:c(U),currentMinutes:u(U),currentSeconds:h(U),currentMilliseconds:p(U)}}checkAndSetTime(){const U=this.getTime();this.daysCounter!==U.daysLeft&&this.setDays(U),this.hoursCounter!==U.currentHours&&this.setHours(U),this.minutesCounter!==U.currentMinutes&&this.setMinutes(U),this.secondsCounter!==U.currentSeconds&&this.setSeconds(U),this.millisecondsCounter!==U.currentMilliseconds&&this.setMilliseconds(U)}resetSlashes(U){this.timeIsRefreshing=!0;for(let G=0;G<U.slashes.length;G++){const F=U.slashes[G];U.rotate(F,F.originAngleInDegrees,0.5),this.isForce||U.changeSlashColor(F,U.getDefaultColor(),0.5,!1,!0),F.isTicked=!1}setTimeout(()=>{this.timeIsRefreshing=!1},500)}setDays(U){this.daysCounter=U.daysLeft,this.setLabel(this.daysLabel,`${U.daysLeft}`);const G=_Mathceil(this.daysSlashes.slashes.length/T),F=(T-U.daysLeft)*G;for(let _=0;_<F+G;_++){const B=this.daysSlashes.slashes[_];B&&!B.isTicked&&(B.isTicked=!0,!this.isForce&&this.daysSlashes.changeSlashColor(B,A.TICKS.DAYS,0.5,!1,!0))}this.resetSlashes(this.hoursSlashes)}setHours(U){if(this.hoursCounter)for(let _=0;_<this.daysSlashes.slashes.length;_++){const B=this.daysSlashes.slashes[_];this.daysSlashes.rotate(B,-180,1,!0,0.01*_)}this.hoursCounter=U.currentHours,this.setLabel(this.hoursLabel,`${20-U.currentHours}`);const G=_Mathceil(this.hoursSlashes.slashes.length/24),F=U.currentHours*G;for(let _=0;_<F+G;_++){const B=this.hoursSlashes.slashes[_];B&&!B.isTicked&&(B.isTicked=!0,!this.isForce&&this.hoursSlashes.changeSlashColor(B,A.TICKS.HOURS,0.5,!1,!0))}this.resetSlashes(this.minutesSlashes)}setMinutes(U){if(this.minutesCounter){for(let _=0;_<this.daysSlashes.slashes.length;_++){const B=this.daysSlashes.slashes[_];this.daysSlashes.rotate(B,B.originAngleInDegrees,1)}for(let _=0;_<this.hoursSlashes.slashes.length;_++){const B=this.hoursSlashes.slashes[_];this.hoursSlashes.rotate(B,-360,1,!0)}}this.minutesCounter=U.currentMinutes,this.setLabel(this.minutesLabel,`${60-U.currentMinutes}`);const G=_Mathceil(this.minutesSlashes.slashes.length/60),F=U.currentMinutes*G;for(let _=0;_<F+G;_++){const B=this.minutesSlashes.slashes[_];B&&!B.isTicked&&(B.isTicked=!0,!this.isForce&&this.minutesSlashes.changeSlashColor(B,A.TICKS.MINUTES,0.5,!1,!0))}this.resetSlashes(this.secondsSlashes)}setSeconds(U){this.secondsCounter=U.currentSeconds,this.setLabel(this.secondsLabel,`${60-U.currentSeconds}`);for(let F=0;F<this.daysSlashes.slashes.length;F++){const _=this.daysSlashes.slashes[F],B=_Mathround(Math.random());this.daysSlashes.setRotation(_,45*B,!0)}for(let F=0;F<this.hoursSlashes.slashes.length;F++){const _=this.hoursSlashes.slashes[F],B=N[_Mathfloor(Math.random()*N.length)];this.hoursSlashes.setRotation(_,B,!0),F+=_Mathround(Math.random())+1}for(let F=0;F<this.minutesSlashes.slashes.length;F++){const _=this.minutesSlashes.slashes[F];this.minutesSlashes.setRotation(_,6,!0)}if(0==U.currentSeconds%10&&this.minutesSlashes.shouldRender&&!this.isForce){const F=2*this.slashesParent.offsetWidth,_=this.slashesParent.offsetWidth/2,B=this.slashesParent.offsetHeight/2,Y=this.isMobile?2:4;this.changeSlashAngles(this.minutesSlashes),this.minutesSlashes.createMotionWave(_,B,F,5,Y),this.minutesSlashes.createColorWave(_,B,F,A.WAVES.MINUTES,2,Y)}}setMilliseconds(U){if(!this.timeIsRefreshing){const G=this.secondsSlashes.slashes.length/60,F=U.currentSeconds*G,_=_Mathceil(1e-3*U.currentMilliseconds*G)+F;for(let B=0;B<_;B++){const Y=this.secondsSlashes.slashes[B];if(Y&&!Y.isTicked&&(Y.isTicked=!0,!this.isForce&&this.secondsSlashes.changeSlashColor(Y,A.TICKS.SECONDS,0.5,!1,!0)),Y&&Y.isTicked){const z=this.millisecondsCounter&&0!==U.currentMilliseconds?1:B;this.secondsSlashes.setRotation(Y,z,!0)}}this.millisecondsCounter=U.currentMilliseconds}}getFormattedTimestamp(){const U=this.getTime();let G=U.currentHours;const F=10>U.currentMinutes?`0${U.currentMinutes}`:U.currentMinutes,_=12>=G?'AM':'PM';return 12<G&&(G-=12),`${G}:${F} ${_}`}render(){!this.shouldRender||this.isPaused||(this.checkAndSetTime(),this.positionSlashes(),this.daysSlashes.render(),this.hoursSlashes.render(),this.minutesSlashes.render(),this.secondsSlashes.render(),requestAnimationFrame(this.render))}}},function(t,s,n){var o=n(48),l=function(d){this.containerEl=d.parentNode,this.dd=new o(d,{dragStartCallback:function(){this.containerEl.classList.add('belt--dragging')}.bind(this),dragStopCallback:function(){this.containerEl.classList.remove('belt--dragging')}.bind(this),handleClass:'belt__draggable__content',speed:0.3,loose:!0,requestAnimationFrame:!0}),window.addEventListener('optimizedResize',function(){this.dd.reflow()}.bind(this))};l.init=function(){var d=document.querySelector('.belt__draggable');return d?new l(d):void 0},t.exports=l},,,,,,,function(t){var n=function(o){this.el=o,this.dateEl=o.querySelector('.tweets__tweet__date'),this.bodyEl=o.querySelector('.tweets__tweet__body'),this.load()};n.URL='https://storage.googleapis.com/gweb-io2017.appspot.com/tweets/tweets.json?2',n.URL_SHORTENER_REGEX=/(https?:\/\/t\.co\/\w+)/,n.prototype.render=function(o){var l=o[0];this.dateEl.textContent=l.created_humanized,this.dateEl.href='https://twitter.com/googledevs/status/'+l.id,this.bodyEl.innerHTML='',this.bodyEl.appendChild(this.clean(l.text)),this.el.classList.add('tweets--visible')},n.prototype.setVisible=function(o){this.el.style.display=o?'block':'none'},n.prototype.load=function(){var o=new XMLHttpRequest;o.open('GET',n.URL),o.addEventListener('load',function(){if(4==o.readyState){if(200!=o.status)return void this.setVisible(!1);var l=JSON.parse(o.responseText);this.render(l.tweets)}}.bind(this)),o.send()},n.prototype.clean=function(o){var l=document.createElement('span'),d=o.split(n.URL_SHORTENER_REGEX);return d.forEach(function(c){var u;n.URL_SHORTENER_REGEX.test(c)?(u=document.createElement('a'),u.target='_blank',u.href=c,u.textContent=c):(u=document.createElement('span'),u.textContent=c),l.appendChild(u)}),l},n.init=function(){var o=document.querySelector('.tweets');o&&new n(o)},t.exports=n},function(t){var n=function(o){this.el=o,this.load()};n.URL='https://storage.googleapis.com/gweb-io2017-weather.google.com.a.appspot.com/weather/weather.json?',n.prototype.render=function(o){var l=0,d=o.forecast;if([].forEach.call(d,function(p){var S='[data-weather-date-id="'+p.date+'"]',f=this.el.querySelector(S);if(f){var v=f.querySelector('.weather__col__temperature__high'),m=f.querySelector('.weather__col__temperature__low'),E=f.querySelector('img');v.textContent=p.high_temp_f+'\xB0',m.textContent=p.low_temp_f+'\xB0',E.src=p.condition_icon,f.classList.add('weather__col--visible'),l+=1}}.bind(this)),!!l){var c=o.attributions;if(c){var u=c[0].url,h=this.el.querySelector('a');h.href=u}this.el.classList.add('weather--visible')}},n.prototype.setVisible=function(o){this.el.style.display=o?'block':'none'},n.prototype.load=function(){var o=new XMLHttpRequest;o.open('GET',n.URL),o.addEventListener('load',function(){if(4==o.readyState){if(200!=o.status)return void this.setVisible(!1);var l=JSON.parse(o.responseText);this.render(l.weather)}}.bind(this)),o.send()},n.prototype.clean=function(o){var l=document.createElement('span'),d=o.split(n.URL_SHORTENER_REGEX);return d.forEach(function(c){var u;n.URL_SHORTENER_REGEX.test(c)?(u=document.createElement('a'),u.target='_blank',u.href=c,u.textContent=c):(u=document.createElement('span'),u.textContent=c),l.appendChild(u)}),l},n.init=function(){var o=document.querySelector('.weather');o&&new n(o)},t.exports=n},,,function(t,s,n){var l=n(2);t.exports=function(d,c){var u=l(d),h=u.getTime(),p=l(c),S=p.getTime();return h<S?-1:h>S?1:0}},function(t,s,n){var l=n(47),d=6e4;t.exports=function(u,h){var p=l(u),S=l(h),f=p.getTime()-p.getTimezoneOffset()*d,v=S.getTime()-S.getTimezoneOffset()*d;return _Mathround((f-v)/8.64e7)}},function(t,s,n){var l=n(2),d=n(38),c=n(37);t.exports=function(u,h){var p=l(u),S=l(h),f=c(p,S),v=_Mathabs(d(p,S));p.setDate(p.getDate()-f*v);var m=c(p,S)===-f;return f*(v-m)}},function(t,s,n){var l=n(41);t.exports=function(c,u){var h=l(c,u)/3.6e6;return 0<h?_Mathfloor(h):_Mathceil(h)}},function(t,s,n){var l=n(2);t.exports=function(d,c){var u=l(d),h=l(c);return u.getTime()-h.getTime()}},function(t,s,n){var l=n(2);t.exports=function(d){var c=l(d),u=c.getHours();return u}},function(t,s,n){var l=n(2);t.exports=function(d){var c=l(d),u=c.getMilliseconds();return u}},function(t,s,n){var l=n(2);t.exports=function(d){var c=l(d),u=c.getMinutes();return u}},function(t,s,n){var l=n(2);t.exports=function(d){var c=l(d),u=c.getSeconds();return u}},function(t){t.exports=function(o){return o instanceof Date}},function(t,s,n){var l=n(2);t.exports=function(d){var c=l(d);return c.setHours(0,0,0,0),c}},function(t,s,n){var o,l;(function(d,c){o=c,l='function'==typeof o?o.call(s,n,s,t):o,!(l!==void 0&&(t.exports=l))})(this,function(){function d(R){var P='Webkit Moz ms O'.split(' '),A=document.documentElement.style;if(void 0!==A[R])return R;R=R.charAt(0).toUpperCase()+R.substr(1);for(var M=0;M<P.length;M++)if(void 0!==A[P[M]+R])return P[M]+R}function c(R){C.backfaceVisibility&&C.perspective&&(R.style[C.perspective]='1000px',R.style[C.backfaceVisibility]='hidden')}var u=function(R,P){(this.options=this.applyDefaults(P||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(R),!!this.wrapper)&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};u.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:0.1,xPrecision:0,yPrecision:0,handleClass:'handle',css3:!0,activeClass:'active',tapping:!0},init:function(){this.options.css3&&c(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(R){for(var P in this.defaults)R.hasOwnProperty(P)||(R[P]=this.defaults[P]);return R},getWrapperElement:function(R){return'string'==typeof R?document.getElementById(R):R},getHandleElement:function(R,P){var A,M,I;if(!R.getElementsByClassName){for(M=new RegExp('(^|\\s)'+P+'(\\s|$)'),A=R.getElementsByTagName('*'),I=0;I<A.length;I++)if(M.test(A[I].className))return A[I];}else if(A=R.getElementsByClassName(P),0<A.length)return A[0]},calculateStepRatios:function(){var R=[];if(1<=this.options.steps)for(var P=0;P<=this.options.steps-1;P++)R[P]=1<this.options.steps?P/(this.options.steps-1):0;return R},setWrapperOffset:function(){this.offset.wrapper=E.get(this.wrapper)},calculateBounds:function(){var R={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return R.availWidth=R.right-R.left-this.handle.offsetWidth,R.availHeight=R.bottom-R.top-this.handle.offsetHeight,R},calculateValuePrecision:function(){var R=this.options.xPrecision||_Mathabs(this.bounds.availWidth),P=this.options.yPrecision||_Mathabs(this.bounds.availHeight);return[R?1/R:0,P?1/P:0]},bindMethods:function(){this.requestAnimationFrame='function'==typeof this.options.customRequestAnimationFrame?h(this.options.customRequestAnimationFrame,window):h(O,window),this.cancelAnimationFrame='function'==typeof this.options.customCancelAnimationFrame?h(this.options.customCancelAnimationFrame,window):h(D,window),this.animateWithRequestAnimationFrame=h(this.animateWithRequestAnimationFrame,this),this.animate=h(this.animate,this),this.onHandleMouseDown=h(this.onHandleMouseDown,this),this.onHandleTouchStart=h(this.onHandleTouchStart,this),this.onDocumentMouseMove=h(this.onDocumentMouseMove,this),this.onWrapperTouchMove=h(this.onWrapperTouchMove,this),this.onWrapperMouseDown=h(this.onWrapperMouseDown,this),this.onWrapperTouchStart=h(this.onWrapperTouchStart,this),this.onDocumentMouseUp=h(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=h(this.onDocumentTouchEnd,this),this.onHandleClick=h(this.onHandleClick,this),this.onWindowResize=h(this.onWindowResize,this)},bindEventListeners:function(){p(this.handle,'mousedown',this.onHandleMouseDown),p(this.handle,'touchstart',this.onHandleTouchStart),p(document,'mousemove',this.onDocumentMouseMove),p(this.wrapper,'touchmove',this.onWrapperTouchMove),p(this.wrapper,'mousedown',this.onWrapperMouseDown),p(this.wrapper,'touchstart',this.onWrapperTouchStart),p(document,'mouseup',this.onDocumentMouseUp),p(document,'touchend',this.onDocumentTouchEnd),p(this.handle,'click',this.onHandleClick),p(window,'resize',this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){S(this.handle,'mousedown',this.onHandleMouseDown),S(this.handle,'touchstart',this.onHandleTouchStart),S(document,'mousemove',this.onDocumentMouseMove),S(this.wrapper,'touchmove',this.onWrapperTouchMove),S(this.wrapper,'mousedown',this.onWrapperMouseDown),S(this.wrapper,'touchstart',this.onWrapperTouchStart),S(document,'mouseup',this.onDocumentMouseUp),S(document,'touchend',this.onDocumentTouchEnd),S(this.handle,'click',this.onHandleClick),S(window,'resize',this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(R){m.refresh(R),f(R),v(R),this.activity=!1,this.startDrag()},onHandleTouchStart:function(R){m.refresh(R),v(R),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(R){0==R.clientX-this.dragStartPosition.x&&0==R.clientY-this.dragStartPosition.y||(m.refresh(R),this.dragging&&(this.activity=!0,f(R)))},onWrapperTouchMove:function(R){return m.refresh(R),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):void(f(R),this.activity=!0)},onWrapperMouseDown:function(R){m.refresh(R),f(R),this.startTap()},onWrapperTouchStart:function(R){m.refresh(R),f(R),this.startTap()},onDocumentMouseUp:function(){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap()},onHandleClick:function(R){this.activity&&(f(R),v(R))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,'')},disable:function(){this.disabled=!0,this.handle.className+=' disabled'},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return _Mathabs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(R,P,A){this.setValue(this.options.steps&&1<R?(R-1)/(this.options.steps-1):0,this.options.steps&&1<P?(P-1)/(this.options.steps-1):0,A)},setValue:function(R,P,A){this.setTargetValue([R,P||0]),A&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){this.disabled||!this.options.tapping||(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([m.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,m.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){this.disabled||!this.tapping||(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:m.x,y:m.y},this.offset.mouse=[m.x-E.get(this.handle)[0],m.y-E.get(this.handle)[1]],!this.wrapper.className.match(this.options.activeClass)&&(this.wrapper.className+=' '+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var R=0===this.bounds.availWidth?0:(m.x-this.dragStartPosition.x)/this.bounds.availWidth,P=0===this.bounds.availHeight?0:(m.y-this.dragStartPosition.y)/this.bounds.availHeight,M=this.groupClone(this.value.current);if(this.options.slide){var I=this.change;M[0]+=4*I[0],M[1]+=4*I[1]}this.setTargetValue(M),this.wrapper.className=this.wrapper.className.replace(' '+this.options.activeClass,''),this.callDragStopCallback([R,P])}},callAnimationCallback:function(){var R=this.value.current;this.options.snap&&1<this.options.steps&&(R=this.getClosestSteps(R)),this.groupCompare(R,this.value.prev)||('function'==typeof this.options.animationCallback&&this.options.animationCallback.call(this,R[0],R[1]),this.groupCopy(this.value.prev,R))},callTargetCallback:function(){'function'==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){'function'==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(R){'function'==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],R)},animateWithRequestAnimationFrame:function(R){R?(this.timeOffset=this.timeStamp?R-this.timeStamp:0,this.timeStamp=R):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(R,P){if(!R||this.dragging){if(this.dragging){var A=this.groupClone(this.value.target),M=[m.x-this.offset.wrapper[0]-this.offset.mouse[0],m.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(M,this.options.loose),this.change=[this.value.target[0]-A[0],this.value.target[1]-A[1]]}(this.dragging||P)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||P)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var R=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return(R[0]||R[1])&&(_Mathabs(R[0])>this.valuePrecision[0]||_Mathabs(R[1])>this.valuePrecision[1]?(this.value.current[0]+=R[0]*_Mathmin(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=R[1]*_Mathmin(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},updateOffsetFromValue:function(){this.offset.current=this.options.snap?this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var R='';return this.options.css3&&C.transform?(this.options.horizontal&&(R+='translateX('+this.offset.current[0]+'px)'),this.options.vertical&&(R+=' translateY('+this.offset.current[1]+'px)'),void(this.handle.style[C.transform]=R)):void(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+'px'),this.options.vertical&&(this.handle.style.top=this.offset.current[1]+'px'))},setTargetValue:function(R,P){var A=P?this.getLooseValue(R):this.getProperValue(R);this.groupCopy(this.value.target,A),this.offset.target=this.getOffsetsByRatios(A),this.callTargetCallback()},setTargetValueByOffset:function(R,P){var A=this.getRatiosByOffsets(R),M=P?this.getLooseValue(A):this.getProperValue(A);this.groupCopy(this.value.target,M),this.offset.target=this.getOffsetsByRatios(M)},getLooseValue:function(R){var P=this.getProperValue(R);return[P[0]+(R[0]-P[0])/4,P[1]+(R[1]-P[1])/4]},getProperValue:function(R){var P=this.groupClone(R);return P[0]=_Mathmax(P[0],0),P[1]=_Mathmax(P[1],0),P[0]=_Mathmin(P[0],1),P[1]=_Mathmin(P[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&1<this.options.steps&&(P=this.getClosestSteps(P)),P},getRatiosByOffsets:function(R){return[this.getRatioByOffset(R[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(R[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(R,P,A){return P?(R-A)/P:0},getOffsetsByRatios:function(R){return[this.getOffsetByRatio(R[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(R[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(R,P,A){return _Mathround(R*P)+A},getStepNumber:function(R){return this.getClosestStep(R)*(this.options.steps-1)+1},getClosestSteps:function(R){return[this.getClosestStep(R[0]),this.getClosestStep(R[1])]},getClosestStep:function(R){for(var P=0,A=1,M=0;M<=this.options.steps-1;M++)_Mathabs(this.stepRatios[M]-R)<A&&(A=_Mathabs(this.stepRatios[M]-R),P=M);return this.stepRatios[P]},groupCompare:function(R,P){return R[0]==P[0]&&R[1]==P[1]},groupCopy:function(R,P){R[0]=P[0],R[1]=P[1]},groupClone:function(R){return[R[0],R[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&m.xDiff>m.yDiff||!this.options.vertical&&m.yDiff>m.xDiff}};for(var h=function(R,P){return function(){return R.apply(P,arguments)}},p=function(R,P,A){R.addEventListener?R.addEventListener(P,A,!1):R.attachEvent&&R.attachEvent('on'+P,A)},S=function(R,P,A){R.removeEventListener?R.removeEventListener(P,A,!1):R.detachEvent&&R.detachEvent('on'+P,A)},f=function(R){R||(R=window.event),R.preventDefault&&R.preventDefault(),R.returnValue=!1},v=function(R){R||(R=window.event),R.stopPropagation&&R.stopPropagation(),R.cancelBubble=!0},m={x:0,y:0,xDiff:0,yDiff:0,refresh:function(R){R||(R=window.event),'mousemove'==R.type?this.set(R):R.touches&&this.set(R.touches[0])},set:function(R){var P=this.x,A=this.y;R.clientX||R.clientY?(this.x=R.clientX,this.y=R.clientY):(R.pageX||R.pageY)&&(this.x=R.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=R.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=_Mathabs(this.x-P),this.yDiff=_Mathabs(this.y-A)}},E={get:function(R){var P={left:0,top:0};return void 0!==R.getBoundingClientRect&&(P=R.getBoundingClientRect()),[P.left,P.top]}},C={transform:d('transform'),perspective:d('perspective'),backfaceVisibility:d('backfaceVisibility')},T=['webkit','moz'],O=window.requestAnimationFrame,D=window.cancelAnimationFrame,L=0;L<T.length&&!O;++L)O=window[T[L]+'RequestAnimationFrame'],D=window[T[L]+'CancelAnimationFrame']||window[T[L]+'CancelRequestAnimationFrame'];return O||(O=function(R){return setTimeout(R,25)},D=clearTimeout),u})},,,,,,,,,function(t,s){'use strict';const l=1<window.devicePixelRatio?window.devicePixelRatio:1,d=1.25,c=0.1,u=0.05,h=1;s.a=class{constructor(f,v,m,E,C={}){f&&(this.parent=f,this.gridParent=E?E:this.parent,this.columns=v,this.rows=m,this.gridWidth=this.parent.offsetWidth,this.slashSize=this.gridWidth/this.columns,this.gridHeight=this.rows*this.slashSize,this.gridOffsetLeft=0,this.gridOffsetTop=0,this.options={startAngle:C.startAngle,defaultColor:C.defaultColor===void 0?5534201:C.defaultColor,alpha:C.alpha===void 0?1:C.alpha,iterateAngle:C.iterateAngle,iterateByRow:C.iterateByRow,iterationDirection:C.iterationDirection,alternateAngle:C.alternateAngle,untickedGraphic:C.untickedGraphic,tickedGraphic:C.tickedGraphic,enableGraphicsByDefault:C.enableGraphicsByDefault},this.options.untickedGraphic&&(this.untickedTexture=PIXI.Texture.fromImage(this.options.untickedGraphic)),this.options.tickedGraphic&&(this.tickedTexture=PIXI.Texture.fromImage(this.options.tickedGraphic)),this.areGraphicsEnabled=this.options.enableGraphicsByDefault,this.pixelDensity=l,!window.WebGL2RenderingContext&&(640<this.gridWidth&&1025>this.gridWidth?this.pixelDensity*=0.75:1024<this.gridWidth&&(this.pixelDensity=1)),this.renderer=new PIXI.autoDetectRenderer(window.innerWidth,this.gridParent.offsetHeight*d,{resolution:this.pixelDensity,transparent:!0,antialias:!0}),this.renderer.plugins.interaction.autoPreventDefault=!1,this.shouldInteract=!1,this.renderer.view.style.position='absolute',this.setRendererPosition(),this.parent.appendChild(this.renderer.view),this.stage=new PIXI.Container,this.stage.interactive=!0,this.slashes=this.generateSlashes(this.gridWidth,this.gridHeight,this.slashSize,this.rows,this.columns,this.options.startAngle,this.options.iterateAngle,this.options.iterationDirection,this.options.iterateByRow,this.options.alternateAngle),this.drawSlashes(),this.shouldRender=!1,this.handleTouchMove=this.handleTouchMove.bind(this))}init(){this.bindEvents(),this.render()}turnOn(){this.shouldRender=!0}turnOff(){this.renderer.textureGC.run(),this.shouldRender=!1}startInteraction(){this.shouldInteract=!0}stopInteraction(){this.shouldInteract=!1}tearDown(){this.slashes.forEach((f)=>{TweenLite.killTweensOf(f)}),this.turnOff(),this.stage.touchmove=null,this.stage.destroy(),this.parent.removeChild(this.renderer.view),this.renderer.destroy(),this.stage=null,this.renderer=null,this.parent=null,this.gridParent=null,this.columns=null,this.rows=null,this.gridWidth=null,this.slashSize=null,this.gridHeight=null,this.options=null,this.slashes=null}bindEvents(){this.stage.touchmove=this.handleTouchMove}handleTouchMove(f){this.shouldInteract&&f.data.originalEvent.preventDefault()}resize(){this.gridWidth=this.parent.offsetWidth,this.slashSize=this.gridWidth/this.columns,this.gridHeight=this.rows*this.slashSize,this.setRendererPosition(),this.setSlashPositions(),this.areGraphicsEnabled?this.destroySlashes():this.clearSlashes(),this.drawSlashes()}setRendererPosition(){this.renderer.resize(window.innerWidth,this.gridParent.offsetHeight*d),this.gridOffsetTop=this.parent.getBoundingClientRect().top-this.gridParent.getBoundingClientRect().top,this.gridOffsetLeft=this.parent.getBoundingClientRect().left,TweenLite.set(this.renderer.view,{transformOrigin:'0 0',x:-this.gridOffsetLeft,y:-this.gridOffsetTop,scale:1/this.pixelDensity})}generateSlashes(f,v,m,E,C,T,O,D,L,R){const P=m*c,A=m*(1-c),I=_Mathmax(_Mathround(m*u),h);let N=[];const W=A/2;for(let H=0;H<E;H++)for(let U=0;U<C;U++){const G=U*A+U*P+W+this.gridOffsetLeft,F=H*(v/E-P)+H*P+W+this.gridOffsetTop;let _=0<T?T*(_MathPI/180):0;R&&0==U%2&&(_+=_MathPI/2);const B=L?H:U;if(O&&0<B){const Y=0>D?-1*B:B,z=_*(180/_MathPI);_=(z+Y*(m/4))*(_MathPI/180),_>2*_MathPI&&(_%=2*_MathPI)}N.push({sprite:null,size:A,stroke:I,color:this.options.defaultColor,alpha:this.options.alpha,originX:G,originY:F,x:G,y:F,originAngleInDegrees:_*(180/_MathPI),originAngle:_,rotation:_,isTinting:!1,isRotating:!1,isHidden:0===this.options.alpha,isTicked:!1,isForcingChange:!1})}return N}setSlashPositions(){const f=this.slashSize*c,v=this.slashSize*(1-c),m=this.gridHeight/this.rows-f,E=_Mathmax(_Mathround(this.slashSize*u),h);let C=[];const T=v/2;for(let O=0;O<this.rows;O++)for(let D=0;D<this.columns;D++){const L=D*v+D*f+T+this.gridOffsetLeft,R=O*m+O*f+T+this.gridOffsetTop;C.push({x:L,y:R,size:v,stroke:E})}for(let O=0;O<this.slashes.length;O++){const D=C[O],L=this.slashes[O];L.x=D.x,L.y=D.y,L.originX=D.x,L.originY=D.y,L.size=D.size,L.stroke=D.stroke}}drawSlashes(){for(let f=0;f<this.slashes.length;f++){const v=this.slashes[f];this.areGraphicsEnabled?this.changeSlashGraphic(v,v.isTicked):(v.sprite=new PIXI.Graphics,this.stage.addChild(v.sprite)),this.areGraphicsEnabled||(v.sprite.lineStyle(0),v.sprite.beginFill(16777215),v.sprite.drawRect(0,0,v.size,v.stroke),v.sprite.endFill(),v.sprite.pivot=new PIXI.Point(v.sprite.width/2,v.sprite.height/2)),v.sprite.tint=this.areGraphicsEnabled?16777215:v.color,v.sprite.x=v.x,v.sprite.y=v.y,v.sprite.rotation=v.angle,v.sprite.alpha=v.alpha}}clearSlashes(){for(let f=0;f<this.slashes.length;f++){const v=this.slashes[f];TweenLite.killTweensOf(v),v.sprite.clear()}}destroySlashes(){for(let f=0;f<this.slashes.length;f++){const v=this.slashes[f];TweenLite.killTweensOf(v),v.sprite.destroy()}}enableGraphics(f,v){f?this.untickedTexture=PIXI.Texture.fromImage(f):''===f&&this.untickedTexture&&(this.untickedTexture.destroy(),this.untickedTexture=null),v?this.tickedTexture=PIXI.Texture.fromImage(v):''===v&&this.tickedTexture&&(this.tickedTexture.destroy(),this.tickedTexture=null),this.areGraphicsEnabled=!0,this.clearSlashes(),this.drawSlashes()}disableGraphics(){this.areGraphicsEnabled=!1,this.destroySlashes(),this.drawSlashes()}getDefaultColor(){return this.options.defaultColor}rotate(f,v,m=1,E=!1,C=0){f.isRotating=!0;let T=E?v*(_MathPI/180)+f.originAngle:v*(_MathPI/180);TweenLite.to(f,m,{rotation:T,ease:Expo.easeOut,delay:C,onComplete:()=>{f.originAngle=T%360,f.isRotating=!1}})}setRotation(f,v,m=!1,E=!1){let C=m?v%360*(_MathPI/180)+f.originAngle:v%360*(_MathPI/180);f.originAngle=C,E&&(f.rotation=C)}getPointDistance(f,v,m,E){return _Mathsqrt(_Mathpow(f-m,2)+_Mathpow(v-E,2))}getPointDistanceFromCircleEdge(f,v,m,E,C){return _Mathsqrt(_Mathpow(f-m,2)+_Mathpow(v-E,2))-C}getAngleBetweenPoints(f,v,m,E){return Math.atan2(m-f,E-v)}getHexAsString(f){return f.toString(16)}getHexAsNumber(f){return parseInt(f,16)}changeSlashGraphic(f,v=!1){if(this.areGraphicsEnabled){f.sprite&&f.sprite.destroy(),(!this.untickedTexture||v)&&this.tickedTexture?this.tickedTexture&&v&&(f.sprite=new PIXI.Sprite(this.tickedTexture)):f.sprite=new PIXI.Sprite(this.untickedTexture);const m=f.sprite.getBounds();f.sprite.width=f.size,f.sprite.height=f.size,f.sprite.pivot=new PIXI.Point(m.width/2,m.height/2),this.stage.addChild(f.sprite)}}rgbString2hex(f){const v=f.match(/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/);if(v){const m=v[1]?parseInt(v[1]):0,E=v[2]?parseInt(v[2]):0,C=v[3]?parseInt(v[3]):0;return'0x'+(C|E<<8|m<<16).toString(16)}}changeSlashColor(f,v,m=1,E=!1,C=!1){if(f.isTinting&&!C||f.isForcingChange&&!C)return;f.isTinting=!0,C&&(f.isForcingChange=!0);const T=PIXI.utils.hex2rgb(f.sprite.tint),O=PIXI.utils.hex2rgb(v),D=f.color;let L={value:`rgb(${255*T[0]}, ${255*T[1]}, ${255*T[2]})`};TweenLite.to(L,m,{colorProps:{value:`rgb(${255*O[0]}, ${255*O[1]}, ${255*O[2]})`},onUpdate:()=>{f.sprite.tint=16777215,f.sprite.tint=this.getHexAsNumber(this.rgbString2hex(L.value))},onComplete:()=>{if(C&&(f.isForcingChange=!1),E){const R=PIXI.utils.hex2rgb(D);TweenLite.to(L,m,{colorProps:{value:`rgb(${255*R[0]}, ${255*R[1]}, ${255*R[2]})`},onUpdate:()=>{f.sprite.tint=16777215,f.sprite.tint=this.getHexAsNumber(this.rgbString2hex(L.value))},onComplete:()=>{f.sprite.tint=16777215,f.sprite.tint=D,f.isTinting=!1}})}else f.sprite.tint=16777215,f.sprite.tint=v,f.isTinting=!1}});E||(f.color=v)}changeSlashAlpha(f,v,m=0.1){f.isHidden=0===v,TweenLite.to(f,m,{alpha:v})}createColorCircle(f,v,m,E,C,T){for(let O=0;O<this.slashes.length;O++){const D=this.slashes[O],L=this.getPointDistanceFromCircleEdge(D.x,D.y,f,v,m);if(L<D.size/2*c){const R=T&&D.y>v?T:E;this.changeSlashColor(D,R,C,!1,!0)}}}createColorWave(f,v,m,E,C=1,T=1,O=!0,D){let L={radius:1};TweenLite.to(L,T,{radius:m,ease:Quad.easeOut,onUpdate:()=>{if(!this.slashes)return void TweenLite.killTweensOf(L);for(let R=0;R<this.slashes.length;R++){const P=this.slashes[R],A=this.getPointDistanceFromCircleEdge(P.x,P.y,f,v,L.radius);A<P.size*C&&A>-P.size*T&&!P.isTinting&&this.changeSlashColor(P,E,C/10,O)}},onComplete:D})}createWipeWave(f,v,m,E=1,C=1,T=!1,O){let D={radius:1};const L=T?1:0;TweenLite.to(D,C,{radius:m,ease:Quad.easeOut,onUpdate:()=>{if(!this.slashes)return void TweenLite.killTweensOf(D);for(let R=0;R<this.slashes.length;R++){const P=this.slashes[R],A=this.getPointDistanceFromCircleEdge(P.x,P.y,f,v,D.radius);A<P.size*E&&T===P.isHidden&&this.changeSlashAlpha(P,L)}},onComplete:O})}createMotionWave(f,v,m,E=1,C=1,T){let O={radius:1};TweenLite.to(O,C,{radius:m,ease:Quad.easeOut,onUpdate:()=>{if(!this.slashes)return void TweenLite.killTweensOf(O);for(let D=0;D<this.slashes.length;D++){const L=this.slashes[D],R=this.getPointDistanceFromCircleEdge(L.x,L.y,f,v,O.radius);R<L.size*E&&R>-L.size/2&&(this.pushSlashAway(L,f,v,E),this.rotateSlashAway(L,f,v,2*E))}},onComplete:T})}pushSlashAway(f,v,m,E=1){const C=this.getPointDistance(f.x,f.y,v,m),T=1/C*E;f.x-=(v-f.originX)*T,f.y-=(m-f.originY)*T}rotateSlashAway(f,v,m,E=1){if(f.isRotating)return;const C=this.getPointDistance(f.x,f.y,v,m);let O=this.getAngleBetweenPoints(f.x,f.y,v,m)*(1/C*E);f.y>m&&(O*=-1),f.rotation+=O}moveSlashTowardOrigin(f,v=1){const m=this.getPointDistance(f.x,f.y,f.originX,f.originY);if(0!==m){if(1>=m)return f.x=f.originX,void(f.y=f.originY);const E=v/10+1/m;f.x+=(f.originX-f.x)*E,f.y+=(f.originY-f.y)*E,1>_Mathabs(f.x-f.originX)&&(f.x=f.originX),1>_Mathabs(f.y-f.originY)&&(f.y=f.originY)}}rotateSlashTowardOrigin(f,v=1){if(!(f.isRotating||f.rotation===f.originAngle)){f.rotation+=(f.originAngle-f.rotation)*(180/_MathPI)*(v/10)*(_MathPI/180)}}updateSlashes(){for(let f=0;f<this.slashes.length;f++){const v=this.slashes[f];v.color=v.sprite.tint,v.sprite.x=v.x,v.sprite.y=v.y,v.sprite.rotation=v.rotation,v.sprite.alpha=v.alpha}}render(){this.shouldRender&&(this.updateSlashes(),this.renderer.render(this.stage,this.renderer.renderer,!1))}}},,,function(t,s,n){'use strict';Object.defineProperty(s,'__esModule',{value:!0});var o=n(25),l=n(1),d=n(26),c=n(33),u=n(34);window.addEventListener('DOMContentLoaded',function(){document.querySelector('.js-countdown')&&(window.ioCountdown=new o.a,window.ioCountdown.init());var h=document.querySelector('.hero__logo--scrollable');if(h){var p=document.querySelector('.header'),S=document.querySelector('.header__content'),f=document.querySelector('.header__logo'),v=document.querySelector('.header__hamburger'),m=h.parentNode,E=h.clientHeight,C=h.clientWidth,T=parseInt(h.offsetTop),O=parseInt(h.offsetLeft),L,R=!1,P=[{minScroll:0,minScrollPerc:0,maxScroll:0,maxScrollPerc:.2,initial:{height:E,left:O,width:C},property:{height:50,top:0,width:50},custom:function(I){var N=p.clientHeight;I.property.height=N,I.property.left=812<=window.screen.width?60+parseInt(S.offsetLeft):v.clientWidth+1,I.initial.left=parseInt(m.offsetLeft),I.initial.top=parseInt(m.offsetTop)}}],A=function(){L=window.screen.height;var I=window.getComputedStyle(h);R='none'!==I.display;for(var N=0;N<P.length;N++)P[N].custom&&P[N].custom(P[N]),P[N].minScrollPerc&&(P[N].minScroll=L*P[N].minScrollPerc),P[N].maxScrollPerc&&(P[N].maxScroll=L*P[N].maxScrollPerc)},M=function(){var I,N=function(W,H,U,G,F){if(void 0!=H.property[G]){var B=H.initial[G]||F,Y=B-H.property[G],z=1-(1-H.property[G]/B)*U;switch(G){case'left':var V=C-H.property.width;return'translatex('+(-Y-V/2)*U+'px)';break;case'top':var q=E-H.property.height;return'translatey('+(-Y-q/2)*U+'px)';break;case'width':return'scale('+z+')';}}};return function(){if(R){I!=0<window.scrollY&&(I=0<window.scrollY,I?h.classList.add('logo--scrolled'):h.classList.remove('logo--scrolled'));for(var W=0;W<P.length;W++)if(!(window.scrollY<P[W].minScroll)){var H=window.scrollY-P[W].minScroll,U=_Mathmin(H/P[W].maxScroll,1),G='';G+=' '+N(h,P[W],U,'top'),G+=' '+N(h,P[W],U,'left'),G+=' '+N(h,P[W],U,'width'),h.style.transform=G}}}}();window.addEventListener(l.OPTIMIZED_RESIZE,function(){A(),M()}),window.addEventListener(l.OPTIMIZED_SCROLL,M),A(),M(),h.classList.add('hero__logo--loaded')}}),d.init(),c.init(),u.init()}]);
